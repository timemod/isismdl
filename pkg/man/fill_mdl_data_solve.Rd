% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/IsisMdl_doc.R
\name{fill_mdl_data_solve}
\alias{fill_mdl_data_solve}
\title{\code{\link{IsisMdl}} method: Inverse solves inputs.}
\arguments{
\item{period}{A period range object specifying the time period for the solution.
If missing, uses the model's data period obtained via \verb{$get_data_period()}.}

\item{fit_tbl}{A tibble defining the solve specifications. Must contain
the following columns:
\describe{
\item{solve_period}{Character or period object indicating when to solve}
\item{observed_variable}{Name of the variable with observed data}
\item{solve_variable}{Name of the variable to solve for (derive)}
\item{group}{(Optional) Group identifier for solving multiple variables together.
If omitted, each row is treated as a separate group}
\item{initial_guess}{(Optional) Initial guess for the solve variable. Can be
either all numeric or empty string "" in combination with numbers
between quotation marks (e.g. "0.5").
Defaults to 0.1 if not provided, "" or NULL}
}}

\item{report}{Character string controlling output verbosity. Options:
\describe{
\item{"no"}{Does not generate a report.}
\item{"period"}{Print a report per period (default). For each period the number of replaced missing values is reported.}
\item{"minimal"}{Print a minimal report. Only the total number of replaced missing values is reported.}
}}

\item{...}{Additional arguments passed to the \code{nleqslv} solver (e.g., \code{control},
\code{method}, \code{global}).}
}
\value{
An \code{IsisMdl} object (copy of the original model) with solved values for
the solve variables. The original model remains unchanged.
}
\description{
This method solves for specific model variables (solve variables) by matching
calculated values to observed data. It performs inverse modeling: instead of
solving the model forward from inputs to outputs, it solves backward to find
the inputs that would produce the observed outputs.

The method is particularly useful for calibration, where you have observed
data for certain variables and want to determine the values of other variables
(often exogenous variables or parameters) that would generate those observations.

The function creates a copy of the model, solves the inverse problem using
numerical optimization, and returns the modified model without affecting the
original.
}
\examples{
\dontrun{
# Load model and initialize data
mdl <- isis_mdl("model.mdl", period = "2010/2020")
data_init <- get_initial_data()
mdl$init_data(data = data_init)

# Define variables to solve for
library(tibble)
fit_tbl <- tribble(
  ~solve_period, ~group, ~observed_variable, ~solve_variable, ~initial_guess,
  "2015", "A", "consumption", "income_exog", "0.1",
  "2015", "B", "investment", "interest_rate_exog", "0.05",
  "2016", "A", "consumption", "income_exog", "",
  "2016", "B", "investment", "interest_rate_exog", ""
)

# Solve the model
mdl_solved <- mdl$fill_mdl_data_solve(
  fit_tbl = fit_tbl,
  report = "period"
)

# Compare original and solved data
original_data <- mdl$get_data()
solved_data <- mdl_solved$get_data()

# With custom solver options
mdl_solved <- mdl$fill_mdl_data_solve(
  fit_tbl = fit_tbl,
  report = "none",
  control = list(trace = 1, maxit = 200)
)
}

}
\seealso{
\code{\link[nleqslv]{nleqslv}} for details on the numerical solver and options.

Related methods: \verb{$solve()}, \verb{$fill_mdl_data()}, \verb{$get_dep_struct()}
}
