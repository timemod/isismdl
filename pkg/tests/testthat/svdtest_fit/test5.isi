setgo(output=hdoff);

per = 1000y;
waarnemingen = [0.412 0.202 0.813 0.642];
aantal_waarnemingen = length(waarnemingen);
aantal_rms_en = 8;

cmpmdl("non_square");
readmdl("non_square");

(* maak aantal rijen afhankelijk van elkaar:
 *  rij2 = rij1
 *  rij4 = rij1
 *  rij5 = rij1
 *  rij6 = rij1
 *  rij8 = rij1 
 *)
put_mdl_param;
for i = [2 4 5 6 8] do
    r1[i] = r1[1] + 1e-6 * r1[i];
    r2[i] = r2[1];
    r3[i] = r3[1];
    r4[i] = r4[1];
endfor;
get_mdl_param;

setmdp(1000y);

(* maak waarnemingen aan *)
for w = waarnemingen; i = 1 .. aantal_waarnemingen do
    (~("w" // i // "_fit"))[per] = w;
endfor;

(* maak de rms-en gelijk aan 1 *)
for i = 1 .. aantal_rms_en do
    ~"x" // i // "_rms" = 1;
endfor;

getfit;
getrms;

setfopt(options = prijac, nowarnca; svdtest_tol = 1e-6);
solve;
