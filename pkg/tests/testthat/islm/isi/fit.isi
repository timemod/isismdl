copy_file("../mdl/islm.mdl"; "islm.mdl");
cmpmdl("islm");
read_mdl("islm");

mdl_per = 2015.2q..2016.3q;
data_per = 2015.1q..2016.3q;
setmdp(mdl_per);
r = 3.35;
y = 980;
yd = 790;
getmdt;

g[2015.1q] = 210;
ms[2015.1q] = 200;
dynamic(2015.2q..2016.3q);
g = g[-1] * 1.015;
ms = ms[-1] * 1.015;
enddyn;

y_fit[2015.2q] = 985;
r_fit[2015.2q..2015.3q] <- [3.5, 3.6];

c_rms = 5;
i_rms = 21;
md_rms = 2;
t_rms = 2;

getmdt;
getfit;
getrms;

setmva(ft = "*"; cvgcrit = 1e-8);
setfopt(cvgabs=1e-6);
setfopt(repopt = minimal);
solve;
primdt(dec = 3);
prica(dec = 3);
write_ts_csv("fit.csv"; per = mdl_per; input_from = mws;
             options = transpose; lowercase = true);
