PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS)  $(FLIBS)
PKG_CFLAGS =
PKG_FCFLAGS = -fimplicit-none -cpp -J mod -I include

# options for lex and yacc
LEX_CMD = flex
YACC_CMD = bison
LYPREFIX = mc
LEX_YACC_DIR = lex_yacc

VPATH = mod:include

all: $(SHLIB)

# rules for lex and yacc
scan.c : $(LEX_YACC_DIR)/scan.l
	$(LEX_CMD) -P$(LYPREFIX) -o$@ -i $<

xpctab.c : $(LEX_YACC_DIR)/xpctab.y 
	$(YACC_CMD) -Wno-yacc -d -p $(LYPREFIX) -o $@ $<

# dependencies of object files on header files
include deps/makedeps_c

# dependencies of object files files on mod files
include deps/makedeps_f90

# dependencies of object files on include files
mscalc.o : mspushf.inc  mspushv.inc  msshift.inc
